<!doctype html>
<%@page import="java.util.Iterator"%>
<%@page import="in.co.sunrays.proj3.dto.CollegeDTO"%>
<%@page import="java.util.List"%>
<%@page import="in.co.sunrays.proj3.controller.CollegeList_Controller"%>
<%@page import="in.co.sunrays.proj3.controller.College_Controller"%>
<%@page import="in.co.sunrays.proj3.controller.UserRegistration_Controller"%>
<%@page import="in.co.sunrays.proj3.utility.HTMLUtility"%>
<%@page import="java.util.HashMap"%>
<%@page import="in.co.sunrays.proj3.utility.ServletUtility"%>
<%@page import="in.co.sunrays.proj3.utility.DataUtility"%>
<%@page import="in.co.sunrays.proj3.controller.Login_Controller"%>
<%@page import="in.co.sunrays.proj3.controller.ORSView"%>
<html lang="en">
<head>



<!-- StyleSheet Link -->
<link href="<%=ORSView.STYLESHEET%>" rel="stylesheet">


<jsp:useBean id="dto" class="in.co.sunrays.proj3.dto.CollegeDTO" scope="request"></jsp:useBean>



<title></title>

</head>
<body>
	<div class="container" id="container">


		<div id="header">
			<jsp:include page="Header.jsp"></jsp:include>
		</div>

		<div class="ty-auto" id="App_Body">



			<div class="form-block text-white text-center ">

				<h3>College List</h3>

				<div class="text-center my-4 ">

					<form action="<%=ORSView.COLLEGE_LIST_CTL%>" method="post">


						<div class="form-group first text-white mb-0">
							<label for="name">College Name</label> <input name="name" type="text" class="form-control" placeholder="Enter College Name" id="name" value="<%=DataUtility.getStringData(dto.getName())%>"
								required>
						</div>
						<div>
							<font style="color: red;"><%=ServletUtility.getMessage("name", request)%></font>
						</div>


						<div class="form-group first text-white mb-0">
							<label for="city">City</label> <input name="city" type="text" class="form-control" placeholder="Enter College City" id="city" value="<%=DataUtility.getStringData(dto.getCity())%>" required>
						</div>
						<div>
							<font style="color: red;"><%=ServletUtility.getMessage("phoneNo", request)%></font>
						</div>

						<div class="d-grid gap-2 col-8 mx-auto my-2">
							<button type="submit" class="btn btn-outline-primary btn-block my-4 " name="operation" value="<%=CollegeList_Controller.OP_SEARCH%>">Update College Data</button>
						</div>


					</form>

				</div>



				<div>
					<H2 style="color: red;"><%=ServletUtility.getErrorMessage(request)%></H2>
				</div>
				<div>
					<H2 style="color: red;"><%=ServletUtility.getSuccessMessage(request)%></H2>
				</div>


				<%
					List list = ServletUtility.getList(request);

					if (list != null && list.size() != 0) {
						Iterator it = list.iterator();
				%>
				<div>
					<table class="table">
						<thead>
							<tr>
								<th scope="col">College Name</th>
								<th scope="col">Address</th>
								<th scope="col">State</th>
								<th scope="col">City</th>
								<th scope="col">Phone Number</th>
							</tr>
						</thead>
						<%
							while (it.hasNext()) {
									dto = (CollegeDTO) it.next();
						%>

						<tbody>
							<tr>
								<th scope="row"><%=dto.getName()%></th>
								<th scope="row"><%=dto.getAddress()%></th>
								<th scope="row"><%=dto.getState()%></th>
								<th scope="row"><%=dto.getCity()%></th>
								<th scope="row"><%=dto.getPhoneNo()%></th>
							</tr>
						</tbody>
					</table>




				</div>

				<%
					}
					}
				%>



			</div>
		</div>



	</div>

	<div id="footer">
		<jsp:include page="Footer.jsp"></jsp:include>
	</div>





	<!-- Hidden Fields -->

	<input type="hidden" name="id" value="<%=dto.getId()%>">
	<input type="hidden" name="createdBy" value="<%=dto.getCreatedBy()%>">
	<input type="hidden" name="modifiedBy" value="<%=dto.getModifiedBy()%>">
	<input type="hidden" name="createdDatetime" value="<%=dto.getCreatedDatetime()%>">
	<input type="hidden" name="modifiedDatetime" value="<%=dto.getModifiedDatetime()%>">




</body>
</html>