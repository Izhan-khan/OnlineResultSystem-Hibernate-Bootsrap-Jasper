<!doctype html>
<%@page import="java.util.List"%>
<%@page import="in.co.sunrays.proj3.controller.TimeTable_Controller"%>
<%@page import="in.co.sunrays.proj3.controller.UserRegistration_Controller"%>
<%@page import="in.co.sunrays.proj3.utility.HTMLUtility"%>
<%@page import="java.util.HashMap"%>
<%@page import="in.co.sunrays.proj3.utility.ServletUtility"%>
<%@page import="in.co.sunrays.proj3.utility.DataUtility"%>
<%@page import="in.co.sunrays.proj3.controller.Login_Controller"%>
<%@page import="in.co.sunrays.proj3.controller.ORSView"%>
<html lang="en">
<head>



<!-- StyleSheet Link -->
<link href="<%=ORSView.STYLESHEET%>" rel="stylesheet">


<jsp:useBean id="dto" class="in.co.sunrays.proj3.dto.TimeTableDTO" scope="request"></jsp:useBean>


<%
	List courseList = (List) request.getAttribute("courseList");

	List subjectList = (List) request.getAttribute("subjectList");
%>





<title></title>

</head>
<body>
	<div class="container" id="container">
		<div id="header">
			<jsp:include page="Header.jsp"></jsp:include>
		</div>
		<%
			if (ServletUtility.getErrorMessage(request) != "") {
		%>

		<div class="alert alert-danger text-center" role="alert">
			<%=ServletUtility.getErrorMessage(request)%>
		</div>
		<%
			}
			if (ServletUtility.getSuccessMessage(request) != "") {
		%>
		<div class="alert alert-success text-center" role="alert">
			<%=ServletUtility.getSuccessMessage(request)%>
		</div>
		<%
			}
		%>

		<div class="ty-auto h-auto" id="App_Body">


			<div id="login_backgound">
				<div class="form-block text-white ">
					<div class="text-center my-4 ">

						<%
							if (dto.getId() > 0) {
						%>
						<h3>Update TimeTable</h3>
						<%
							} else {
						%>
						<h3>Add TimeTable</h3>
						<%
							}
						%>


					</div>


					<form action="<%=ORSView.TIMETABLE_CTL%>" method="post">


						<div class="form-group last mb-0">
							<label for="examDate">Exam Date</label> <input name="examDate" type="text" class="form-control " placeholder="dd/mm/yyyy" id="datepicker2" value="<%=DataUtility.getDateString(dto.getExamDate())%>"
								readonly="readonly" required>
						</div>
						<div>
							<font style="color: red;"><%=ServletUtility.getMessage("examDate", request)%></font>
						</div>




						<div class="form-group last mb-0">
							<label for="examTime">Exam Time</label>

							<%
								HashMap<String, String> examTimeMap = new HashMap<String, String>();
									examTimeMap.put("10:00 to 12:30", "10:00 to 12:30");
									examTimeMap.put("14:00 to 16:30", "14:00 to 16:30");

								String examTime = HTMLUtility.getList("examTime", dto.getExamTime(), examTimeMap);
							%>

							<p class="form-group last mb-0"><%=examTime%></p>

						</div>

						<div class="form-group last mb-0">
							<label for="semester">Semester</label>

							<%
								HashMap<String, String> semesterMap = new HashMap<String, String>();
									semesterMap.put("10:00 to 12:30", "10:00 to 12:30");
									semesterMap.put("14:00 to 16:30", "14:00 to 16:30");

								String semester = HTMLUtility.getList("semester",String.valueOf(dto.getSemester()),semesterMap);
							%>

							<p class="form-group last mb-0"><%=semester%></p>

						</div>





						<div class="form-group last mb-0">
							<label for="password">Subject </label>

							<%
								String subjectDrop = HTMLUtility.getList("subjectId", String.valueOf(dto.getSubjectId()), subjectList);
							%>

							<p class="form-group last mb-0"><%=subjectDrop%></p>

						</div>




						<div class="form-group last mb-0">
							<label for="password">Course </label>

							<%
								String courseDrop = HTMLUtility.getList("courseId", String.valueOf(dto.getCourseId()), courseList);
							%>

							<p class="form-group last mb-0"><%=courseDrop%></p>

						</div>




						<div class="form-group last mb-0">
							<label for="password">Subject </label>

							<%
								String subjectDrop = HTMLUtility.getList("subjectId", String.valueOf(dto.getSubjectId()), subjectList);
							%>

							<p class="form-group last mb-0"><%=subjectDrop%></p>

						</div>






						<%
							if (dto.getId() > 0) {
						%>
						<div class="d-grid gap-2 col-8 mx-auto my-2">
							<button type="submit" class="btn btn-outline-primary btn-block my-4 " name="operation" value="<%=TimeTable_Controller.OP_SAVE%>">Update TimeTable Data</button>
						</div>
						<%
							} else {
						%>
						<div class="d-grid gap-2 col-8 mx-auto my-2">
							<button type="submit" class="btn btn-outline-primary btn-block my-4 " name="operation" value="<%=TimeTable_Controller.OP_SAVE%>">Add TimeTable</button>
						</div>
						<%
							}
						%>




					</form>


				</div>
			</div>



		</div>

		<div id="footer">
			<jsp:include page="Footer.jsp"></jsp:include>
		</div>
	</div>







	<!-- Hidden Fields -->

	<input type="hidden" name="id" value="<%=dto.getId()%>">
	<input type="hidden" name="createdBy" value="<%=dto.getCreatedBy()%>">
	<input type="hidden" name="modifiedBy" value="<%=dto.getModifiedBy()%>">
	<input type="hidden" name="createdDatetime" value="<%=dto.getCreatedDatetime()%>">
	<input type="hidden" name="modifiedDatetime" value="<%=dto.getModifiedDatetime()%>">




</body>
</html>